{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import '@splidejs/splide/css/sea-green';\nimport '@splidejs/splide/css/core';\n\nimport Splide from '@splidejs/splide';\n\nnew Splide( '.splide' ).mount();\n\nconst currentDate = new Date();\n\nconst day = currentDate.getDate();\nconst month = currentDate.getMonth() + 1; \nconst year = currentDate.getFullYear();\nconst formattedDate = `${day}-${month}-${year}`;\nconst publicationDateElement = document.getElementById('publication_date');\n\npublicationDateElement.textContent = formattedDate;\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    const commentItems = document.querySelectorAll('.commentList-item');\n    commentItems.forEach(item => {\n        const currentDate = new Date();\n        currentDate.setDate(currentDate.getDate() - 5);\n        const formattedDate = currentDate.toISOString().split('T')[0];\n        const publicationDateDiv = item.querySelector('.publication-date');\n        if (publicationDateDiv) {\n            publicationDateDiv.textContent = '' + formattedDate;\n        } else {\n            console.error('Element with class \"publication-date\" not found');\n        }\n    });\n    document.addEventListener('click', function(event) {\n        const target = event.target;\n\n        if (target.classList.contains('like-btn')) {\n            const isLiked = target.classList.contains('liked');\n            const isDisliked = target.parentElement.nextElementSibling.querySelector('.dislike-btn').classList.contains('disliked');\n\n            if (!isLiked) {\n                target.classList.add('liked');\n                const likeCount = parseInt(target.dataset.likes);\n                target.dataset.likes = likeCount + 1;\n                target.querySelector('.like-count').textContent = target.dataset.likes;\n\n                if (isDisliked) {\n                    target.parentElement.nextElementSibling.querySelector('.dislike-btn').classList.remove('disliked');\n                    const dislikeCount = parseInt(target.parentElement.nextElementSibling.querySelector('.dislike-btn').dataset.dislikes);\n                    target.parentElement.nextElementSibling.querySelector('.dislike-btn').dataset.dislikes = dislikeCount - 1;\n                    target.parentElement.nextElementSibling.querySelector('.dislike-btn .dislike-count').textContent = target.parentElement.nextElementSibling.querySelector('.dislike-btn').dataset.dislikes;\n                }\n            } else {\n                target.classList.remove('liked');\n                const likeCount = parseInt(target.dataset.likes);\n                target.dataset.likes = likeCount - 1;\n                target.querySelector('.like-count').textContent = target.dataset.likes;\n            }\n        }\n\n        if (target.classList.contains('dislike-btn')) {\n            const isDisliked = target.classList.contains('disliked');\n            const isLiked = target.parentElement.previousElementSibling.querySelector('.like-btn').classList.contains('liked');\n\n            if (!isDisliked) {\n                target.classList.add('disliked');\n                const dislikeCount = parseInt(target.dataset.dislikes);\n                target.dataset.dislikes = dislikeCount + 1;\n                target.querySelector('.dislike-count').textContent = target.dataset.dislikes;\n\n                if (isLiked) {\n                    target.parentElement.previousElementSibling.querySelector('.like-btn').classList.remove('liked');\n                    const likeCount = parseInt(target.parentElement.previousElementSibling.querySelector('.like-btn').dataset.likes);\n                    target.parentElement.previousElementSibling.querySelector('.like-btn').dataset.likes = likeCount - 1;\n                    target.parentElement.previousElementSibling.querySelector('.like-btn .like-count').textContent = target.parentElement.previousElementSibling.querySelector('.like-btn').dataset.likes;\n                }\n            } else {\n                target.classList.remove('disliked');\n                const dislikeCount = parseInt(target.dataset.dislikes);\n                target.dataset.dislikes = dislikeCount - 1;\n                target.querySelector('.dislike-count').textContent = target.dataset.dislikes;\n            }\n        }\n    });\n});\n\n\n  document.addEventListener('DOMContentLoaded', function() {\n    var form = document.getElementById('commentForm');\n    var commentAuthorInput = document.getElementById('commentAuthor');\n    var commentTextInput = document.getElementById('commentText');\n    var commentList = document.getElementById('commentList');\n\n    form.addEventListener('submit', function(event) {\n        event.preventDefault();\n\n        var commentAuthor = commentAuthorInput.value.trim();\n        var commentMessage = commentTextInput.value.trim();\n\n        if (commentMessage !== '') {\n            var listItem = document.createElement('li');\n            listItem.className = 'commentList-item';\n            listItem.innerHTML = `\n                <img src=\"./img/default-avatar.jpg\" alt=\"\" class=\"commentList-item-img\">\n                <div class=\"comment-text-content\">\n                    <p class=\"comment-text\"><b style=\"font-size: 18px; color: dodgerblue;\">${commentAuthor}</b></p>\n                    <p class=\"comment-text\">${commentMessage}</p>\n                    <div class=\"icons\">\n                        <ul class=\"icons-list\">\n                            <li class=\"icons-list-item\">\n                                <button class=\"icons-btn like-btn\" data-likes=\"0\">\n                                    <svg width=\"16\" height=\"16\">\n                                        <use xlink:href=\"./img/symbol-defs.svg#icon-like\"></use>\n                                    </svg>\n                                    <span class=\"like-count\">0</span> ชอบ \n                                </button>\n                            </li>\n                            <li class=\"icons-list-item\">\n                                <button class=\"icons-btn dislike-btn\" data-dislikes=\"0\">\n                                    <svg width=\"16\" height=\"16\">\n                                        <use xlink:href=\"./img/symbol-defs.svg#icon-dislike\"></use>\n                                    </svg>\n                                    <span class=\"dislike-count\">0</span> ไม่ชอบ \n                                </button>\n                            </li>\n                            <li class=\"icons-list-item\">\n                                <a href=\"#commentForm\" class=\"icons-btn\">\n                                    <svg width=\"16\" height=\"16\">\n                                        <use xlink:href=\"./img/symbol-defs.svg#icon-comment\"></use>\n                                    </svg>\n                                    ฟอร์ม\n                                </a>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            `;\n            commentList.insertAdjacentElement(\"afterbegin\",listItem);\n\n            commentAuthorInput.value = ''; \n            commentTextInput.value = ''; \n        }\n    });\n});\n\n\n"],"names":["Splide","currentDate","day","month","year","formattedDate","publicationDateElement","item","publicationDateDiv","event","target","isLiked","isDisliked","likeCount","dislikeCount","form","commentAuthorInput","commentTextInput","commentList","commentAuthor","commentMessage","listItem"],"mappings":"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"}